document.addEventListener('DOMContentLoaded', () => {
    const database = firebase.database();

    firebase.auth().onAuthStateChanged(user => {
        if (user) {
            loadAllData(user.uid);
        } else {
            console.error('No user is signed in.');
        }
    });
});

function loadAllData(userId) {
    const salesRef = firebase.database().ref('sales/' + userId);
    const salesCountsRef = firebase.database().ref('salesCounts/' + userId);
    const salesOutcomesRef = firebase.database().ref('salesOutcomes/' + userId);
    const salesTimeFramesRef = firebase.database().ref('salesTimeFrames/' + userId);
    const usersRef = firebase.database().ref('users/' + userId);

    salesRef.once('value').then(snapshot => {
        console.log('Sales data:', snapshot.val());
        // Process sales data
    }).catch(error => {
        console.error('Error fetching sales data:', error);
    });

    salesCountsRef.once('value').then(snapshot => {
        console.log('Sales counts data:', snapshot.val());
        // Process sales counts data
    }).catch(error => {
        console.error('Error fetching sales counts data:', error);
    });

    salesOutcomesRef.once('value').then(snapshot => {
        console.log('Sales outcomes data:', snapshot.val());
        // Process sales outcomes data
    }).catch(error => {
        console.error('Error fetching sales outcomes data:', error);
    });

    salesTimeFramesRef.once('value').then(snapshot => {
        console.log('Sales time frames data:', snapshot.val());
        // Process sales time frames data
    }).catch(error => {
        console.error('Error fetching sales time frames data:', error);
    });

    usersRef.once('value').then(snapshot => {
        console.log('User data:', snapshot.val());
        // Process user data
    }).catch(error => {
        console.error('Error fetching user data:', error);
    });
}